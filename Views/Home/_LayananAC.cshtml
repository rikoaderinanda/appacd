<style>
  .cate-item:hover {
    background: linear-gradient(145deg, #e4ecff, #ffffff);
    transform: translateY(-3px);
    box-shadow: 0 4px 10px rgba(0, 123, 255, 0.1);
  }
  .cate-img {
    aspect-ratio: 1 / 1; /* Square */
    width: 100%;
    overflow: hidden;
  }

  .cate-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>

<div class="col-12">
  <div class="home-categories mt-30">
    <div class="main-title d-flex align-items-center mb-3">
      <strong class="mb-0">Layanan AC</strong>
      <a href="@Url.Action("Index", "Layanan")" class="ms-auto text-decoration-none text-secondary small">Lihat
        Semua</a>
    </div>
    <div class="category-group">
      <div class="owl-carousel offer-slider owl-theme" id="layananCarousel">
        <div class="item">
          <div class="cate-item text-center loading-skeleton">
            <div class="cate-img mb-2 skeleton-circle"></div>
            <p class="mb-0 small fw-semibold text-dark text-truncate skeleton-text"></p>
          </div>
        </div>
        <div class="item">
          <div class="cate-item text-center loading-skeleton">
            <div class="cate-img mb-2 skeleton-circle"></div>
            <p class="mb-0 small fw-semibold text-dark text-truncate skeleton-text"></p>
          </div>
        </div>
        <div class="item">
          <div class="cate-item text-center loading-skeleton">
            <div class="cate-img mb-2 skeleton-circle"></div>
            <p class="mb-0 small fw-semibold text-dark text-truncate skeleton-text"></p>
          </div>
        </div>
        <div class="item">
          <div class="cate-item text-center loading-skeleton">
            <div class="cate-img mb-2 skeleton-circle"></div>
            <p class="mb-0 small fw-semibold text-dark text-truncate skeleton-text"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    var $;
    document.addEventListener('DOMContentLoaded', function () {
        if (typeof window.jQuery === 'undefined') {
        console.error('jQuery is not loaded.');
        return;
        }
        $ = window.jQuery;
        initCarousel("layananCarousel",2.5,false);
        GetLayananAC();
    });
    
    function GetLayananAC(){
      var url ="/api/Layanan/JasaLayanan?Id=1";
      callApi({
        url: url,
        method: 'GET',
        success: function (data) {
          console.log(data);
          var html = $.map(data, function (item) {
              var scr = "";
              scr = `
              <div class="item">
                <a href="/layanan/${encodeURIComponent(item.id)}" class="offer-banner-item">
                  <img src="${item.img_jasa}" loading="lazy" style="height:100px; object-fit: cover;" class="w-100 br-10 img-fluid"/>
                  <p class="mb-0 small text-dark text-truncate text-center">${item.nama_jasa}</p>
                </a>
              </div>
            `;
              return scr;
          }).join('');
          $('#layananCarousel').html(html);
          initCarousel("layananCarousel",2.5, false);
          lazyAnimateItems("layananCarousel");
        },
        error: function (err) {
          $('#layananCarousel').html('<p class="text-center text-muted py-4">Belum ada pesanan yang disimpan.</p>');
        },
        onBeforeSend: function () {
          //$('#layananCarousel').html('<p class="text-center text-muted py-4">sedang memuat data.....</p>');
        },
        onComplete: function () {
        }
      });
    }
</script>